class LRUCache:
    def __init__(self, cap):
        self.cap = cap
        self.cache = {}

    def get(self, k):
        if k not in self.cache:
            return -1
        v = self.cache.pop(k)
        self.cache[k] = v
        return v

    def put(self, k, v):
        if k in self.cache:
            self.cache.pop(k)
        elif len(self.cache) >= self.cap:
            self.cache.pop(next(iter(self.cache)))
        self.cache[k] = v
